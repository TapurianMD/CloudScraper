<!-- Copyright Â© 2016, Xerxes Langerudi. All rights reserved. -->

<!doctype html>

<html>
<head>
	<title>CloudScraperBuilder</title>
</head>

<style>

html, body
{
	text-align: left;
	color: white;
	height: 95%;
}

.canvas
{
	float: right;
}

#menu
{
	width: 276px;
	height: 100%;
	font: 16px Verdana;
	float: left;
	background-color: white;
}

.header
{
	width: 276px;
	height: 50px;
	font-size: 25px;
	color: grey;
}

.itemDescription
{
	width: 276px;
	float: left;
	color: grey;
}

.itemHolder
{
	width: 276px;
	float: left;
}

select
{
	width: 140px;
	border: 2px solid turquoise;
	color: grey;
}

</style>

<body>
	<div id="menu">
		<form>
			<div class="header">
				CloudScraper Builder
			</div>

			<div class="itemDescription" id="itemDescription1">
				Number of floors:
			</div>
			<div class="itemHolder" id="itemHolder1">
				<select name="floorNumbers" id="floorNumbers">
					<option value="1">1</option>
					<option value="2">2</option>
					<option value="3">3</option>
					<option value="4">4</option>
					<option value="5">5</option>
					<option value="6">6</option>
					<option value="7">7</option>
					<option value="8">8</option>
					<option value="9">9</option>
					<option selected="" value="10">10</option>
				</select>
			</div>

			<div class="itemDescription" id="itemDescription2">
				Width:
			</div>
			<div class="itemHolder" id="itemHolder2">
				<select name="width" id="width">
					<option value="10">10</option>
					<option value="11">11</option>
					<option value="12">12</option>
					<option value="13">13</option>
					<option value="14">14</option>
					<option value="15">15</option>
					<option value="16">16</option>
					<option value="17">17</option>
					<option value="18">18</option>
					<option value="19">19</option>
					<option value="20">20</option>
					<option value="21">21</option>
					<option value="22">22</option>
					<option value="23">23</option>
					<option value="24">24</option>
					<option value="25">25</option>
					<option value="26">26</option>
					<option value="27">27</option>
					<option value="28">28</option>
					<option value="29">29</option>
					<option selected="" value="30">30</option>
				</select>
			</div>

			<div class="itemDescription" id="itemDescription3">
				Window height: 
			</div>
			<div class="itemHolder" id="itemHolder3">
				<select name="windowHeight" id="windowHeight">
					<option value="0.1">10</option>
					<option value="0.2">20</option>
					<option value="0.3">30</option>
					<option value="0.4">40</option>
					<option value="0.5">50</option>
					<option value="0.6">60</option>
					<option value="0.7">70</option>
					<option value="0.8">80</option>
					<option selected="" value="0.9">90</option>
				</select>
			</div>

			<div class="itemDescription" id="itemDescription4">
				Ground floor:
			</div>
			<div class="itemHolder" id="itemHolder4">
				<select name="groundFloor" id="groundFloor">
					<option selected="" value="Concrete">Concrete</option>
					<option value="Windows">Windows</option>
				</select>
			</div>

			<div class="itemDescription" id="itemDescription5">
				Color:
			</div>
			<div class="itemHolder" id="itemHolder5">
				<select name="color" id="color">
					<option value="Cool">Cool</option>
					<option selected="" value="Cooler">Cooler</option>
					<option value="Wet">Wet</option>
					<option value="Wetter">Wetter</option>
					<option value="Hot">Hot</option>
					<option value="Hotter">Hotter</option>
					<option value="Bright">Bright</option>
					<option value="Dark">Dark</option>
					<option value="Tasty">Tasty</option>
					<option value="Gold">Gold</option>
					<option value="Orange">Orange</option>
					<option value="Liquid">Liquid</option>
				</select>
			</div>

			<div class="itemDescription" id="itemDescription6">
				Type:
			</div>
			<div class="itemHolder" id="itemHolder6">
				<select name="type" id="type">
					<option value="Trade Center">Trade Center</option>
					<option selected="" value="Research Center">Research Center</option>
					<option value="Hospital">Hospital</option>
					<option value="University">University</option>
					<option value="Central Command">Central Command</option>
					<option value="Hotel">Hotel</option>
					<option value="Residential">Residential</option>
					<option value="Brothel">Brothel</option>
					<option value="Fire Temple">Fire Temple</option>
				</select>
			</div>

			<div class="itemDescription" id="itemDescription7">
				Show:
			</div>
			<div class="itemHolder" id="itemHolder7">
				<select name="show" id="show">
					<option selected="" value="All">All</option>
					<option value="Plumping">Plumping</option>
					<option value="Wiring">Wiring</option>
					<option value="Lamps">Lamps</option>
					<option value="Elevator">Elevator</option>
					<option value="Structure">Structure</option>
				</select>
			</div>

			<div class="itemDescription" id="itemDescription8">
				Security:
			</div>
			<div class="itemHolder" id="itemHolder8">
				<select name="security" id="security">
					<option value="Optimism">Optimism</option>
					<option value="Special forces">Special forces</option>
					<option value="Tank">Tank</option>
					<option value="Helicopter">Helicopter</option>
					<option value="CCTV">CCTV</option>
					<option selected="" value="Paranoia">Paranoia</option>
				</select>
			</div>
		</form>
	</div>

<canvas width="970" height="650" class="canvas" id="canvas"></canvas>

<script type="text/javascript">

// Building
var buildingWindowColor;
var buildingDoorColor;
var buildingWallColor;
var buildingGroundFloorWallColor;
var buildingBannerColor;
var buildingBannerTextColor;


// Helicopter
var helicopterRotorColor;
var helicopterRotorHolderColor;
var helicopterBodyColor;
var helicopterWindowColor;
var helicopterBackRotorColor;
var helicopterBackRotorHolderColor;
var helicopterOrdnanceHolderColor;
var helicopterOrdnanceColor;


// Tank
var tankFirearmsColor;
var tankWeaponMounterColor;
var tankBodyColor;
var tankWheelColor;
var tankChainColor;


// CCTV
var cameraColor;
var cameraHolderColor;

// Menu
var menuBackgroundColor;
var menuHeaderColor;
var menuItemDescriptionColor;
var menuItemOptionColor;
var menuItemOptionBorderColor;

var canvas = document.querySelector("#canvas");
var cx = canvas.getContext("2d");

canvas.width = screen.width > 1667? 1266 : screen.width - 401;

var bigENOUGH = true;

if (screen.width < 1041)
{
	alert("This App works only on screens with a width larger than 1041px.");

	bigENOUGH = false;

	var menu = document.querySelector("#menu");

	menu.style.display = "none";
}
else if (screen.width < 1366)
{
	alert("This App works best on screens with a larger size.");
}

myCanvasX = canvas.width;
myCanvasY = canvas.height;

function setColor(color)
{
	switch(color)
	{
		case "Cool":
			buildingWindowColor = "cyan";
			buildingDoorColor = "cyan";
			buildingWallColor = "grey";
			buildingGroundFloorWallColor = "grey";
			buildingBannerColor = "grey";
			buildingBannerTextColor = "cyan";

			helicopterRotorColor = "grey";
			helicopterRotorHolderColor = "grey";
			helicopterBodyColor = "grey";
			helicopterWindowColor = "cyan";
			helicopterBackRotorColor = "grey";
			helicopterbackRotorHolderColor = "grey";
			helicopterOrdnanceHolderColor = "grey";
			helicopterOrdnanceColor = "grey";

			tankFirearmsColor = "grey";
			tankWeaponMounterColor = "grey";
			tankBodyColor = "grey";
			tankWheelColor = "cyan";
			tankChainColor = "grey";

			cameraColor = "cyan";
			cameraHolderColor = "grey";

			menuBackgroundColor = "white";
			menuHeaderColor = "grey";
			menuItemDescriptionColor = "grey";
			menuItemOptionColor = "grey";
			menuItemOptionBorderColor = "cyan";
			break;
		case "Cooler":
			buildingWindowColor = "turquoise";
			buildingDoorColor = "turquoise";
			buildingWallColor = "grey";
			buildingGroundFloorWallColor = "grey";
			buildingBannerColor = "grey";
			buildingBannerTextColor = "turquoise";

			helicopterRotorColor = "grey";
			helicopterRotorHolderColor = "grey";
			helicopterBodyColor = "grey";
			helicopterWindowColor = "turquoise";
			helicopterBackRotorColor = "grey";
			helicopterbackRotorHolderColor = "grey";
			helicopterOrdnanceHolderColor = "grey";
			helicopterOrdnanceColor = "grey";

			tankFirearmsColor = "grey";
			tankWeaponMounterColor = "grey";
			tankBodyColor = "#777777";
			tankWheelColor = "#555555";
			tankChainColor = "grey";

			cameraColor = "turquoise";
			cameraHolderColor = "grey";

			menuBackgroundColor = "white";
			menuHeaderColor = "grey";
			menuItemDescriptionColor = "grey";
			menuItemOptionColor = "grey";
			menuItemOptionBorderColor = "turquoise";
			break;
		case "Wet":
			buildingWindowColor = "blue";
			buildingDoorColor = "blue";
			buildingWallColor = "grey";
			buildingGroundFloorWallColor = "grey";
			buildingBannerColor = "grey";
			buildingBannerTextColor = "blue";

			helicopterRotorColor = "grey";
			helicopterRotorHolderColor = "grey";
			helicopterBodyColor = "grey";
			helicopterWindowColor = "blue";
			helicopterBackRotorColor = "grey";
			helicopterbackRotorHolderColor = "grey";
			helicopterOrdnanceHolderColor = "grey";
			helicopterOrdnanceColor = "grey";

			tankFirearmsColor = "grey";
			tankWeaponMounterColor = "grey";
			tankBodyColor = "grey";
			tankWheelColor = "blue";
			tankChainColor = "grey";

			cameraColor = "blue";
			cameraHolderColor = "grey";

			menuBackgroundColor = "white";
			menuHeaderColor = "grey";
			menuItemDescriptionColor = "grey";
			menuItemOptionColor = "grey";
			menuItemOptionBorderColor = "blue";
			break;
		case "Wetter":
			buildingWindowColor = "darkblue";
			buildingDoorColor = "darkblue";
			buildingWallColor = "grey";
			buildingGroundFloorWallColor = "grey";
			buildingBannerColor = "grey";
			buildingBannerTextColor = "darkblue";

			helicopterRotorColor = "grey";
			helicopterRotorHolderColor = "grey";
			helicopterBodyColor = "grey";
			helicopterWindowColor = "darkblue";
			helicopterBackRotorColor = "grey";
			helicopterbackRotorHolderColor = "grey";
			helicopterOrdnanceHolderColor = "grey";
			helicopterOrdnanceColor = "grey";

			tankFirearmsColor = "grey";
			tankWeaponMounterColor = "grey";
			tankBodyColor = "grey";
			tankWheelColor = "darkblue";
			tankChainColor = "grey";

			cameraColor = "darkblue";
			cameraHolderColor = "grey";

			menuBackgroundColor = "white";
			menuHeaderColor = "darkblue";
			menuItemDescriptionColor = "darkblue";
			menuItemOptionColor = "grey";
			menuItemOptionBorderColor = "grey";
			break;
		case "Hot":
			buildingWindowColor = "pink";
			buildingDoorColor = "pink";
			buildingWallColor = "grey";
			buildingGroundFloorWallColor = "grey";
			buildingBannerColor = "grey";
			buildingBannerTextColor = "pink";

			helicopterRotorColor = "grey";
			helicopterRotorHolderColor = "grey";
			helicopterBodyColor = "grey";
			helicopterWindowColor = "pink";
			helicopterBackRotorColor = "grey";
			helicopterbackRotorHolderColor = "grey";
			helicopterOrdnanceHolderColor = "grey";
			helicopterOrdnanceColor = "grey";

			tankFirearmsColor = "grey";
			tankWeaponMounterColor = "grey";
			tankBodyColor = "grey";
			tankWheelColor = "pink";
			tankChainColor = "grey";

			cameraColor = "pink";
			cameraHolderColor = "grey";

			menuBackgroundColor = "white";
			menuHeaderColor = "grey";
			menuItemDescriptionColor = "grey";
			menuItemOptionColor = "grey";
			menuItemOptionBorderColor = "pink";
			break;
		case "Hotter":
			buildingWindowColor = "fuchsia";
			buildingDoorColor = "fuchsia";
			buildingWallColor = "grey";
			buildingGroundFloorWallColor = "grey";
			buildingBannerColor = "grey";
			buildingBannerTextColor = "fuchsia";

			helicopterRotorColor = "grey";
			helicopterRotorHolderColor = "grey";
			helicopterBodyColor = "grey";
			helicopterWindowColor = "fuchsia";
			helicopterBackRotorColor = "grey";
			helicopterbackRotorHolderColor = "grey";
			helicopterOrdnanceHolderColor = "grey";
			helicopterOrdnanceColor = "grey";

			tankFirearmsColor = "grey";
			tankWeaponMounterColor = "grey";
			tankBodyColor = "grey";
			tankWheelColor = "fuchsia";
			tankChainColor = "grey";

			cameraColor = "fuchsia";
			cameraHolderColor = "grey";

			menuBackgroundColor = "white";
			menuHeaderColor = "grey";
			menuItemDescriptionColor = "grey";
			menuItemOptionColor = "grey";
			menuItemOptionBorderColor = "fuchsia";
			break;
		case "Bright":
			buildingWindowColor = "lavender";
			buildingDoorColor = "lavender";
			buildingWallColor = "lightblue";
			buildingGroundFloorWallColor = "lightblue";
			buildingBannerColor = "lightblue";
			buildingBannerTextColor = "lavender";

			helicopterRotorColor = "lightblue";
			helicopterRotorHolderColor = "lightblue";
			helicopterBodyColor = "lightblue";
			helicopterWindowColor = "lavender";
			helicopterBackRotorColor = "lightblue";
			helicopterbackRotorHolderColor = "lightblue";
			helicopterOrdnanceHolderColor = "lightblue";
			helicopterOrdnanceColor = "lightblue";

			tankFirearmsColor = "lightblue";
			tankWeaponMounterColor = "lightblue";
			tankBodyColor = "lightblue";
			tankWheelColor = "lavender";
			tankChainColor = "lightblue";

			cameraColor = "lavender";
			cameraHolderColor = "lightblue";

			menuBackgroundColor = "white";
			menuHeaderColor = "lightblue";
			menuItemDescriptionColor = "lightblue";
			menuItemOptionColor = "lightblue";
			menuItemOptionBorderColor = "lavender";
			break;
		case "Dark":
			buildingWindowColor = "black";
			buildingDoorColor = "black";
			buildingWallColor = "grey";
			buildingGroundFloorWallColor = "grey";
			buildingBannerColor = "grey";
			buildingBannerTextColor = "black";

			helicopterRotorColor = "grey";
			helicopterRotorHolderColor = "grey";
			helicopterBodyColor = "grey";
			helicopterWindowColor = "black";
			helicopterBackRotorColor = "grey";
			helicopterbackRotorHolderColor = "grey";
			helicopterOrdnanceHolderColor = "grey";
			helicopterOrdnanceColor = "grey";

			tankFirearmsColor = "grey";
			tankWeaponMounterColor = "grey";
			tankBodyColor = "grey";
			tankWheelColor = "black";
			tankChainColor = "grey";

			cameraColor = "black";
			cameraHolderColor = "grey";

			menuBackgroundColor = "white";
			menuHeaderColor = "grey";
			menuItemDescriptionColor = "grey";
			menuItemOptionColor = "grey";
			menuItemOptionBorderColor = "black";
			break;
		case "Tasty":
			buildingWindowColor = "fuchsia";
			buildingDoorColor = "fuchsia";
			buildingWallColor = "purple";
			buildingGroundFloorWallColor = "purple";
			buildingBannerColor = "purple";
			buildingBannerTextColor = "fuchsia";

			helicopterRotorColor = "purple";
			helicopterRotorHolderColor = "purple";
			helicopterBodyColor = "purple";
			helicopterWindowColor = "fuchsia";
			helicopterBackRotorColor = "purple";
			helicopterbackRotorHolderColor = "purple";
			helicopterOrdnanceHolderColor = "purple";
			helicopterOrdnanceColor = "purple";

			tankFirearmsColor = "purple";
			tankWeaponMounterColor = "purple";
			tankBodyColor = "purple";
			tankWheelColor = "fuchsia";
			tankChainColor = "purple";

			cameraColor = "fuchsia";
			cameraHolderColor = "purple";

			menuBackgroundColor = "white";
			menuHeaderColor = "purple";
			menuItemDescriptionColor = "purple";
			menuItemOptionColor = "purple";
			menuItemOptionBorderColor = "fuchsia";
			break;
		case "Gold":
			buildingWindowColor = "gold";
			buildingDoorColor = "gold";
			buildingWallColor = "red";
			buildingGroundFloorWallColor = "red";
			buildingBannerColor = "red";
			buildingBannerTextColor = "gold";

			helicopterRotorColor = "red";
			helicopterRotorHolderColor = "red";
			helicopterBodyColor = "red";
			helicopterWindowColor = "gold";
			helicopterBackRotorColor = "red";
			helicopterbackRotorHolderColor = "red";
			helicopterOrdnanceHolderColor = "red";
			helicopterOrdnanceColor = "red";

			tankFirearmsColor = "red";
			tankWeaponMounterColor = "red";
			tankBodyColor = "red";
			tankWheelColor = "gold";
			tankChainColor = "red";

			cameraColor = "gold";
			cameraHolderColor = "red";

			menuBackgroundColor = "white";
			menuHeaderColor = "red";
			menuItemDescriptionColor = "red";
			menuItemOptionColor = "red";
			menuItemOptionBorderColor = "gold";
			break;
		case "Orange":
			buildingWindowColor = "Orange";
			buildingDoorColor = "Orange";
			buildingWallColor = "darkblue";
			buildingGroundFloorWallColor = "darkblue";
			buildingBannerColor = "darkblue";
			buildingBannerTextColor = "Orange";

			helicopterRotorColor = "darkblue";
			helicopterRotorHolderColor = "darkblue";
			helicopterBodyColor = "darkblue";
			helicopterWindowColor = "Orange";
			helicopterBackRotorColor = "darkblue";
			helicopterbackRotorHolderColor = "darkblue";
			helicopterOrdnanceHolderColor = "darkblue";
			helicopterOrdnanceColor = "darkblue";

			tankFirearmsColor = "darkblue";
			tankWeaponMounterColor = "darkblue";
			tankBodyColor = "darkblue";
			tankWheelColor = "Orange";
			tankChainColor = "darkblue";

			cameraColor = "Orange";
			cameraHolderColor = "darkblue";

			menuBackgroundColor = "white";
			menuHeaderColor = "darkblue";
			menuItemDescriptionColor = "darkblue";
			menuItemOptionColor = "darkblue";
			menuItemOptionBorderColor = "Orange";
			break;
		case "Liquid":
			buildingWindowColor = "#107095";
			buildingDoorColor = "#107095";
			buildingWallColor = "#035075";
			buildingGroundFloorWallColor = "#035075";
			buildingBannerColor = "#035075";
			buildingBannerTextColor = "#107095";

			helicopterRotorColor = "#035075";
			helicopterRotorHolderColor = "#035075";
			helicopterBodyColor = "#035075";
			helicopterWindowColor = "#107095";
			helicopterBackRotorColor = "#035075";
			helicopterbackRotorHolderColor = "#035075";
			helicopterOrdnanceHolderColor = "#035075";
			helicopterOrdnanceColor = "#035075";

			tankFirearmsColor = "#035075";
			tankWeaponMounterColor = "#035075";
			tankBodyColor = "#035075";
			tankWheelColor = "#107095";
			tankChainColor = "#035075";

			cameraColor = "#107095";
			cameraHolderColor = "#035075";

			menuBackgroundColor = "white";
			menuHeaderColor = "#035075";
			menuItemDescriptionColor = "#035075";
			menuItemOptionColor = "#035075";
			menuItemOptionBorderColor = "#107095";
			break;
	}
}

function changeMenuColors()
{
	// Menu background color
	var menu = document.querySelector("#menu");

	menu.style.backgroundColor = "white";

	// Menu header color
	var menuHeader = document.querySelector(".header");

	menuHeader.style.color = menuHeaderColor;

	// Menu item description color
	for (var i = 1; i < 9; i++)
	{
		var menuItemDescription = document.querySelector("#itemDescription" + i);

		menuItemDescription.style.color = menuItemDescriptionColor;
	}

	// Menu item option color
	var width = document.querySelector("#width");

	width.style.color = menuItemOptionColor;

	width.style.border = "2px solid " + menuItemOptionBorderColor;

	var floorNumbers = document.querySelector("#floorNumbers");

	floorNumbers.style.color = menuItemOptionColor;

	floorNumbers.style.border = "2px solid " + menuItemOptionBorderColor;

	var windowHeight = document.querySelector("#windowHeight");

	windowHeight.style.color = menuItemOptionColor;

	windowHeight.style.border = "2px solid " + menuItemOptionBorderColor;

	var groundFloor = document.querySelector("#groundFloor");

	groundFloor.style.color = menuItemOptionColor;

	groundFloor.style.border = "2px solid " + menuItemOptionBorderColor;

	var color = document.querySelector("#color");

	color.style.color = menuItemOptionColor;

	color.style.border = "2px solid " + menuItemOptionBorderColor;

	var type = document.querySelector("#type");

	type.style.color = menuItemOptionColor;

	type.style.border = "2px solid " + menuItemOptionBorderColor;

	var show = document.querySelector("#show");

	show.style.color = menuItemOptionColor;

	show.style.border = "2px solid " + menuItemOptionBorderColor;

	var security = document.querySelector("#security");

	security.style.color = menuItemOptionColor;

	security.style.border = "2px solid " + menuItemOptionBorderColor;
}

function drawRoof(x, y, width, height, type)
{
	cx.fillStyle = buildingBannerColor;
	cx.fillRect(x, y, width, height);

	type = "Cloud " + type;

	// Determine font size that can fit on the wall size
	var fontPX = width / type.length * 1.5

	// Max font size
	fontPX = fontPX > 32? 32 : fontPX;

	// Banner text
	cx.fillStyle = buildingBannerTextColor;
	cx.font = fontPX + "px Verdana";
	cx.fillText(type, x + 10, y + 30);
}

function drawFloor(x, y, width, height, windowHeight, floorNumber, show)
{
	var pillarDimension = 4 + floorNumber * 1;
	var tubeDimension = 1 + floorNumber * 0.1;
	var wireDimension = 1;
	var elevatorDimension = 25 + (floorNumber * width / 100);


	switch (show)
	{
		case "All":
			cx.fillStyle = buildingWallColor;
			cx.fillRect(x, y, width, height);

			// Window
			cx.fillStyle = buildingWindowColor;

			var windowHeight = height * windowHeight;

			if (width > 200)
			{
				var windowWidth = width / 2 - 3;

				cx.fillRect(x + 2, y, windowWidth, windowHeight);

				cx.fillRect(x + 2 + windowWidth + 1, y, windowWidth + 1, windowHeight);
			}
			else
			{
				var windowWidth = width - 4;

				cx.fillRect(x + 2, y, windowWidth, windowHeight);
			}
			break;
		case "Plumping":
			cx.fillStyle = "blue";

			// Upward
			cx.fillRect(x + tubeDimension, y, tubeDimension, height);


			// Crosswise
			cx.fillRect(x, y + height, width, tubeDimension);
			break;
		case "Wiring":
			cx.fillStyle = "red";

			// Upward
			cx.fillRect(x + wireDimension, y, wireDimension, height);


			// Crosswise
			cx.fillRect(x, y + height, width, wireDimension);
			break;
		case "Lamps":
			cx.fillStyle = "gold";

			// Roof
			for (myI = x; myI < (x + width); myI = myI + 40)
			{
				cx.fillRect(myI, y, 8, 2);			
			}
			break;
		case "Elevator":
			cx.fillStyle = buildingDoorColor;
			cx.strokeStyle = "white";

			// Upward
			cx.strokeRect(x + 10, y, elevatorDimension, height);
			cx.fillRect(x + 10, y, elevatorDimension, height);
			break;
		case "Structure":
			cx.fillStyle = "grey";

			// Pillar 1
			cx.fillRect(x, y, pillarDimension, height);

			if (width > 200)
			{
				// Pillar 2
				cx.fillRect(x + width / 2 - pillarDimension / 2, y, pillarDimension / 3 * 2, height);
			}

			// Pillar 3
			cx.fillRect(x + width - pillarDimension, y, pillarDimension, height);

			// Crosswise
			cx.fillRect(x, y, width, pillarDimension / 2);
			break;
	}
}

function drawgroundFloor(x, y, width, height, floorNumber, groundFloor)
{
	cx.fillStyle = buildingGroundFloorWallColor;
	cx.fillRect(x, y, width, height);

	switch (groundFloor)
	{
		case "Concrete":
			// Determine door height and width based on building size
			var doorHeight = height / 1.5 + floorNumber * 1;
			var doorWidth = 25 + (floorNumber * width / 100);

			// Door
			cx.fillStyle = buildingDoorColor;
			cx.fillRect(x + 10, y + height - doorHeight, doorWidth, doorHeight);
			break;
		case "Windows":
			cx.fillStyle = buildingWallColor;
			cx.fillRect(x, y, width, height);

			// Window
			cx.fillStyle = buildingWindowColor;

			var windowHeight = height * .9;

			if (width > 200)
			{
				var windowWidth = width / 2 - 3;

				cx.fillRect(x + 2, y, windowWidth, windowHeight);

				cx.fillRect(x + 2 + windowWidth + 1, y, windowWidth + 1, windowHeight);
			}
			else
			{
				var windowWidth = width - 4;

				cx.fillRect(x + 2, y, windowWidth, windowHeight);
			}
			break;
	}
}


function drawBuilding(foundationX, foundationY, x, y, floorNumber, windowHeight, type, groundFloor, color, show)
{
	// Clear clouds
	cx.fillStyle = "white";
	cx.fillRect(0, 0, myCanvasX, myCanvasY);


	// Max width allowed
	x = x > 300? 300 : x;

	// min width allowed
	x = x < 100? 100 : x;

	// Max height per floor allowed
	y = y > 50? 50 : y;

	// Min height per floor allowed
	y = y < 40? 40 : y;

	// Max floors allowed
	floorNumber = floorNumber > 10? 10 : floorNumber;

	// Min floors allowed
	floorNumber = floorNumber < 1? 1 : floorNumber;

	// Max window height allowed
	windowHeight = windowHeight > 0.9? 0.9 : windowHeight;

	// Min windows height allowed
	windowHeight = windowHeight < 0.1? 0.1 : windowHeight;

	width = x;
	height = y;

	foundationX = foundationX + (300 - width) / 2;

	setColor(color);

	changeMenuColors();

	drawgroundFloor(foundationX, foundationY, width, height, floorNumber, groundFloor)

	for (i = 0; i < floorNumber; i++)
	{
		drawFloor(foundationX, foundationY - y - (i * y), width, height, windowHeight, floorNumber, show)
	}

	drawRoof(foundationX, foundationY - y - (i * y), width, height, type);
}

var tank = {
x: 0,
y: 0,
inXPrevious: 0,
inYPrevious: 0,
endX: 0,
endY: 0,
movement: 0,
direction: "up",
draw: function(inX, inY, size)
{
	// Clear clouds
	cx.fillStyle = "white";
	cx.lineWidth = 2 * size;

	// X: Rotor
	// Y: Rotor
	// endX: Empiric
	// endY: Empiric
	this.endX = 113 * size;
	this.endY = 94 * size + (2 * size);

	cx.fillRect(	this.inXPrevious,
			this.inYPrevious,
			this.endX,
			this.endY);

	// When parameters change
	if (this.inXPrevious != inX || this.inYPrevious != inY)
	{
		this.inXPrevious = inX;
		this.inYPrevious = inY;
	
		this.x = inX;
		this.y = inY;
	}

	if (this.direction == "up")
	{
		this.movement = this.movement > 5 * size? 0 : this.movement + 1 * size;
		this.direction = this.movement > 5 * size? "down" : "up";
	}
	else
	{
		this.movement = this.movement < 0? 0 : this.movement - 1 * size;
		this.direction = this.movement < 0? "up" : "down";
	}

	// Firearms
	cx.beginPath();
	cx.moveTo(this.x + 58 * size, this.y + 17 * size);
	cx.lineTo(this.x + 58 * size, this.y + 7 * size);
	cx.moveTo(this.x + 28 * size, this.y + 7 * size - this.movement);
	cx.lineTo(this.x + 68 * size, this.y + 7 * size + this.movement / 2);

	cx.strokeStyle = tankFirearmsColor;
	cx.stroke();

	// Weapon mounter
	cx.beginPath();
	cx.moveTo(this.x + 38 * size, this.y + 27 * size);
	cx.lineTo(this.x + 48 * size, this.y + 17 * size);
	cx.lineTo(this.x + 68 * size, this.y + 17 * size);
	cx.lineTo(this.x + 78 * size, this.y + 27 * size);

	cx.strokeStyle = tankWeaponMounterColor;
	cx.stroke();

	// Body
	cx.beginPath();
	cx.moveTo(this.x, this.y + 47 * size);
	cx.lineTo(this.x + 33 * size, this.y + 27 * size);
	cx.lineTo(this.x + 88 * size, this.y + 27 * size);
	cx.lineTo(this.x + 113 * size, this.y + 47 * size);
	cx.lineTo(this.x + 98 * size, this.y + 67 * size);
	cx.lineTo(this.x + 18 * size, this.y + 67 * size);
	cx.lineTo(this.x, this.y + 47 * size);

	cx.fillStyle = tankBodyColor;
	cx.fill();

	// 1st wheel
	cx.beginPath();
	cx.arc(this.x + 18 * size, this.y + 82 * size, 10 * size, 0, 7);

	cx.fillStyle = tankWheelColor;
	cx.fill();

	// 2nd wheel
	cx.beginPath();
	cx.arc(this.x + 43 * size, this.y + 82 * size, 10 * size, 0, 7);
	cx.fill();

	// 3rd wheel
	cx.beginPath();
	cx.arc(this.x + 68 * size, this.y + 82 * size, 10 * size, 0, 7);
	cx.fill();

	// 4th wheel
	cx.beginPath();
	cx.arc(this.x + 93 * size, this.y + 82 * size, 10 * size, 0, 7);
	cx.fill();

	// Front chain
	cx.beginPath();
	cx.arc(this.x + 13 * size, this.y + 82 * size, 12 * size, 1.8, 4.5);

	cx.strokeStyle = tankChainColor;
	cx.stroke();

	cx.lineTo(this.x + 101 * size, this.y + 70 * size);
	cx.stroke();

	// End chain
	cx.beginPath();
	cx.arc(this.x + 98 * size, this.y + 82 * size, 12 * size, 5, 7.6);
	cx.stroke();

	cx.lineTo(this.x + 10 * size, this.y + 94 * size);
	cx.stroke();
}
}

var helicopter = {
x: 0,
y: 0,
inXPrevious: 0,
inYPrevious: 0,
shakeSize: 2,
rotator: 1,
backRotorCounter: 1,
endX: 0,
endY: 0,
draw: function(inX, inY, size) 
{
	// Clear clouds
	cx.fillStyle = "white";
	cx.lineWidth = 2 * size;

	// X: Rotor
	// Y: Rotor
	// endX: Empiric
	// endY: Empiric
	this.endX = 152 * size;
	this.endY = 104 * size + (2 * size);

	cx.fillRect(	this.inXPrevious,
			this.inYPrevious,
			this.endX,
			this.endY);

	// When parameters change
	if (this.inXPrevious != inX || this.inYPrevious != inY)
	{
		this.inXPrevious = inX;
		this.inYPrevious = inY;
	
		this.x = inX;
		this.y = inY;
	}

	// Shaking effect
	this.y == inY ? this.y = this.y + this.shakeSize : this.y = this.y - this.shakeSize;

	// Rotor
	cx.beginPath();
	cx.moveTo(this.x, this.y + size);
	cx.lineTo(this.x + (size * 120), this.y + size);

	// Rotation effect
	this.rotator = this.rotator == 1? 0 : 1;

	cx.strokeStyle = helicopterRotorColor;
	this.rotator == 1? cx.stroke() : 0;


	// Rotor holder
	cx.beginPath();
	cx.moveTo(this.x + (60 * size), this.y + size);
	cx.lineTo(this.x + (60 * size), this.y + size + (10 * size));
	cx.strokeStyle = helicopterRotorHolderColor;
	cx.stroke();

	// Body
	cx.beginPath();
	cx.arc(this.x + (60 * size), this.y + (36 * size), 25 * size, 0, 7);
	cx.fillStyle = helicopterBodyColor;
	cx.fill();

	// Window
	cx.beginPath();
	cx.arc(this.x + (60 * size), this.y + (36 * size), 22 * size, 3, 5);
	cx.fillStyle = helicopterWindowColor;
	cx.fill();

	// Back rotor
	cx.beginPath();
	cx.moveTo(this.x + (60 * size) + 80 * size, this.y + (36 * size) + 1 * size);
	cx.arc(this.x + (60 * size) + 80 * size, this.y + (36 * size) + 1 * size, 10 * size, 0 + this.backRotorCounter, 0.2 + this.backRotorCounter);
	cx.arc(this.x + (60 * size) + 80 * size, this.y + (36 * size) + 1 * size, 10 * size, 3 + this.backRotorCounter, 3.2 + this.backRotorCounter);
	cx.fillStyle = helicopterBackRotorColor;
	cx.fill();

	this.backRotorCounter = this.backRotorCounter > 7? 0 : ++this.backRotorCounter;

	// Back rotor holder
	cx.beginPath();
	cx.moveTo((this.x + (60 * size) + 25 * size), this.y + (36 * size));
	cx.lineTo(this.x + (60 * size) + 80 * size, this.y + (36 * size));
	cx.lineTo(this.x + (60 * size) + 80 * size, this.y + (36 * size) + 3 * size);
	cx.lineTo((this.x + (60 * size) + 24 * size), this.y + (36 * size) + 5 * size);
	cx.strokeStyle = helicopterBackRotorColor;
	cx.fill();

	// Ordnance holder
	cx.beginPath();
	cx.moveTo(this.x + (60 * size), this.y + (36 * size) + 25 * size);
	cx.lineTo(this.x + (60 * size), this.y + (36 * size) + 50 * size);
	cx.strokeStyle = helicopterOrdnanceHolderColor;
	cx.stroke();

	// Ordnance
	cx.beginPath();
	cx.moveTo(this.x + (60 * size) + 20 * size, this.y + (36 * size) + 25 * size);
	cx.lineTo(this.x + (60 * size) - 30 * size, this.y + (36 * size) + 65 * size);
	cx.strokeStyle = helicopterOrdnanceColor;
	cx.stroke();
}
}

function drawCCTV(x, y, width, floorHeight, floorNumbers)
{
	x = x + (300 - width) / 2;

	cx.lineWidth = 1;

	cx.fillStyle = cameraColor;
	cx.strokeStyle = cameraHolderColor;

	var buildingHeight = floorHeight + floorHeight * floorNumbers;

	var CCTVY = y - buildingHeight;

	// Right
	cx.beginPath();
	cx.moveTo(x + width, CCTVY);
	cx.lineTo(x + width + 10, CCTVY);
	cx.lineTo(x + width + 10, CCTVY + 10);
	cx.stroke();

	cx.beginPath();
	cx.arc(x + width + 10, CCTVY + 10, 7, 6.3, 3);
	cx.fill();

	// Left
	cx.beginPath();
	cx.moveTo(x, CCTVY);
	cx.lineTo(x - 10, CCTVY);
	cx.lineTo(x - 10, CCTVY + 10);
	cx.stroke();

	cx.beginPath();
	cx.arc(x - 10, CCTVY + 10, 7, 6.3, 3);
	cx.fill();
}

var airPatrol;
var groundPatrol;

function drawSecurity(security, x, y, width, floorHeight, floorNumbers)
{
	cx.strokeStyle = "black";
	cx.fillStyle = "black";

	if (security == "Optimism")
	{
		// No security
	}
	if (security == "Special forces" || security == "Paranoia")
	{
		// Hidden in undisclosed place
	}
	if (security == "Tank" || security == "Paranoia")
	{
		// Might already be set
		clearInterval(groundPatrol);

		// Patroling
		if (myCanvasX > 645)
		{
			var myTank = Object.create(tank)
		}

		if (myCanvasX > 800)
		{
			var myTank2 = Object.create(tank)
		}

		if (myCanvasX > 955)
		{
			var myTank3 = Object.create(tank)
		}

		if (myCanvasX > 1110)
		{
			var myTank4 = Object.create(tank)
		}

		if (myCanvasX > 1265)
		{
			var myTank5 = Object.create(tank)
		}

		// Patroling
		groundPatrol = setInterval(function()
		{
			if (myCanvasX > 645)
			{
				myTank.draw(x - 170, 500, 1);
			}

			if (myCanvasX > 800)
			{
				myTank2.draw(x - 325, 500, 1);
			}

			if (myCanvasX > 955)
			{
				myTank3.draw(x - 480, 500, 1);
			}

			if (myCanvasX > 1110)
			{
				myTank4.draw(x - 635, 500, 1);
			}

			if (myCanvasX > 1265)
			{
				myTank5.draw(x - 790, 500, 1);
			}
		}, 100);
	}
	else
	{
		clearInterval(groundPatrol);
	}

	if (security == "Helicopter" || security == "Paranoia")
	{
		// Might already be set
		clearInterval(airPatrol);

		var helicopterY = 250;

		var myHelicopter = Object.create(helicopter)

		// Patroling
		if (myCanvasX > 645)
		{
			var myHelicopter2 = Object.create(helicopter)
		}

		if (myCanvasX > 800)
		{
			var myHelicopter3 = Object.create(helicopter)
		}

		if (myCanvasX > 955)
		{
			var myHelicopter4 = Object.create(helicopter)
		}

		if (myCanvasX > 1110)
		{
			var myHelicopter5 = Object.create(helicopter)
		}

		if (myCanvasX > 1265)
		{
			var myHelicopter6 = Object.create(helicopter)
		}
		// Patroling
		airPatrol = setInterval(function()
		{
			helicopterY > 65? helicopterY = helicopterY - 10 : helicopterY;

			myHelicopter.draw(x + 320, helicopterY, 1);

			if (myCanvasX > 645)
			{
				myHelicopter2.draw(x - 170, 60 + 170, 1);
			}

			if (myCanvasX > 800)
			{
				myHelicopter3.draw(x - 325, helicopterY, 1);
			}

			if (myCanvasX > 955)
			{
				myHelicopter4.draw(x - 480, helicopterY, 1);
			}

			if (myCanvasX > 1110)
			{
				myHelicopter5.draw(x - 635, helicopterY, 1);
			}

			if (myCanvasX > 1265)
			{
				myHelicopter6.draw(x - 790, helicopterY, 1);
			}

		}, 50);
	}
	else
	{
		clearInterval(airPatrol);
	}
	if (security == "CCTV" || security == "Paranoia")
	{
		// Roof mounted
		drawCCTV(x, y, width, floorHeight, floorNumbers);
	}
}


var form = document.querySelector("form");

function draw()
{
	if (bigENOUGH)
	{
		var width = form.elements.width.value * 10;
		var floorHeight = 50;
		var floorNumbers = form.elements.floorNumbers.value;
		var windowHeight = form.elements.windowHeight.value;
		var groundFloor = form.elements.groundFloor.value;
		var color = form.elements.color.value;
		var type = form.elements.type.value;
		var show = form.elements.show.value;
		var security = form.elements.security.value;

		var x = myCanvasX - 475;

		drawBuilding(x, 550, width, floorHeight, floorNumbers, windowHeight, type, groundFloor, color, show);

		drawSecurity(security, x, 550, width, floorHeight, floorNumbers);
	}
}

draw();

form.addEventListener("change", draw);

</script>

</body>
</html>

